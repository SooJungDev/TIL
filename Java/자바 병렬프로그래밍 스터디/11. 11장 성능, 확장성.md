## 11장 내용
- 11.1 성능에 대해
- 11.2 암달의 법칙
- 11.3 스레드와 비용
- 11.4 락 경쟁 줄이기
- 11.5 예제: Map 객체의 성능 분석
- 11.6 컨텍스트 스위치 부하 줄이기

## 11.1 성능에 대해
- 스레드를 사용하는 가장 큰 목적은 바로 성능을 높이고자 하는 것이다.
- 스레드를 사용하면 시스템의 자원을 훨씬 효율적으로 활용 할 수 있고, 어플리케이션으로 하여금 시스템이 갖고 있는 능력을 최대한 사용하게 할 수 있다.
- 그와 동시에 기존 작업이 실행되고 있는 동안에라도 새로 등록된 작업을 즉시 실행할 수 있는 준비를 갖추고 있기 때문에 애플리케이션의 응답 속도를 향상 시킬 수 있다.
- 11장에서는 병렬프로그래밍의 성능을 분석하고, 모니터링하고, 그결과로 성능을 향상 시킬 수 있는 방법에 대해 알아본다.
- 프로그램이 정상적으로 동작하도록 만들어 놓고 난 다음 프로그램이 빠르게 동작하도록 만드는 편이 낫다고 본다.
- 예상했던 성능 기준이 있엇다면, 그기준에 미치지 못할 경우에만 성능 문제를 살펴보는것도 충분하다.
- 병렬 어플리케이션을 성계하는 동안에는 성능을 최대한으로 끌어 올리는 일이 큰 부분을 차지하지 않을때가 많다.

- 성능을 높인다는것은 더 적은 자원을 사용하면서 더많은 일을 하도록 한다는 말
- 자원이라는 단어에는 여러 가지 뜻이 있을 수 있는데, 처리해야 할 작업이 있을대 CPU, 메모리, 네트웍속도, 디스크속도, 데이터베이스 처리속도, 디스크 용량등의 자원 가운데 어느것이 될지 모르지만 항상 모자라는 부분이 발생할것이다.
- 어떤 작업을 실행 할 때 충분하지 못한 특정 자원 때문에 성능이 떨어지는 현상이 나타난다면, 작업의 성능이 해당 자원에 좌우된다고 한다.
    - CPU에 좌우 될 수 도 있고, 데이터베이스 속도에 좌우될 수 도 있다.
- 여러개의 스레드를 사용하려면 항상 단일 스레드를 사용할때보다 성능상의 비용을 지불해야만 한다
    - 스레드간의 작업 내용을 조율하는데 필요한 오버헤드
    - 컨텍스트 스위칭이 자주 발생한다는점
    - 스레드를 생성하거나 제거하는 일이 빈번하다는점
    - 여러 스레드를 효율적으로 스케쥴링 해야되는것 모두 비용
- 이와 같은 비용을 지불한다고 해도 스레드를 효율적으로 잘 적용하면 성능이나 응답성이 높아지고 처리 용량도 커지는 여러 장점을 얻을 수 있다.
- 반대로 잘못 설계된 병렬 어플리케이션은 순차적으로 작업을 처리하는 프로그램보다 오히려 느리게 동작하는 경우도 간혹 생긴다.

더나은 성능을 목표로 해서 프로그램이 병렬로 동작하도록 만들 때는 두가지 부분을 우선적으로 생각해야한다.
- 프로그램이 확보 할 수 있는 모든 자원을 최대한 활용해야하고, 남는 자원이 생길때마다 그 자원 역시 대한 활용할 수 있도록 해야한다
- 프로그램의 성능을 모니터링하는 관점에서 얘기해보자면, 앞에서 언급한 부분은 CPU가 최대한 바쁘게 동작해야 한다는것과 동일하게 생각 할 수 있다.
- 프로그램에서최 스레드를 활용하면 작업을 자게 나눠 시스템에 꽂힌 CPU 가 충분히 열심히 동작해야 할 만큼의 작업을 싱행시켜 노는 CPU가 없을 만큼 작업 실행 성능을 높일 수 있다.

성능 대 확작성
- 애플리케이션의 성능은 여러가지 측면에서 자료를 수집해 측정할 수 있는데, 이를테면 서비스 시간, 대기시간, 처리량, 효율성, 확장성, 용량 등의 수치를 뽑아 낼 수 있다.
    - 특정 작업을 처리하는 속도가 얼마나 빠르냐
    - 동일한 자원을 갖고 있을 때 얼마나 많은 양의 일을 할 수 있는지
- **확장성은 CPU, 메모리, 디스크 , I/O 처리 장치등의 추가적인 장비를 사용해 처리량이나 용량을 얼마나 쉽게 키울 수 있는지를 말한다.**
- 확장성을 목표로 튜닝을 한다면 처리해야 할 작업을 병렬화해 시스템의 가용 자원을 더 많이 끌어다 사용하면서 더 많은 일을 처리 할 수 있도록 하는 방법을 많이 사용하게 된다.
- 이처럼 성능이라는 단어에 포함된 



## 11.2 암달의 법칙

## 11.3 스레드와 비용

## 11.4 락 경쟁 줄이기

## 11.5 예제: Map 객체의 성능 분석

## 11.6 컨텍스트 스위치 부하 줄이기

## 참고
책 자바 병렬 프로그래밍 11장