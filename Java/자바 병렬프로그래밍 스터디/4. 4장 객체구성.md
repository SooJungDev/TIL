## 4장 내용
- 4.1 스레드 안전한 클래스 설계
- 4.2 인스턴스 한정
- 4.3 스레드 안전성 위임
- 4.4 스레드 안전하게 구현된 클래스에 기능추가
- 4.5 동기화 정책 문서화 하기

## 4.1 스레드 안전한 클래스 설계
- public static 변수에 저장한다해도 스레드 동기화가 맞춰진 프로그램 작성가능 
    - 하지만 구조적인 캡슐화 없이 만들어낸 결과물을 여러 스레드에서 사용해도 안전한지를 확인하기도 어려움
- 객체가 갖고있는 정보를 해당 객체 내부에 숨겨두면 전체 프로그램을 다 뒤져볼 필요없이 객체 단위로 스레드 안전성이 확보되어 있는지 확인

클래스가 스레드 안전성을 확보하도록 설계하고자 할때에는 다음과 같은 세가지 고려
- 객체의 상태를 보관하는 변수가 어떤 것 인가?
- 객체의 상태를 보관하는 변수가 가질 수 있는 값이 어떤종류 어떤 범위에 해당하는가?
- 객체 내부의 값으 ㄹ동시에 사용하고자 할대 그과정을 관리할 수 있는 정책

~~~java
@ThreadSafe
public final class Counter{
    @GuardedBy("this") private long value = 0; // 단하나의 변수
    // Counter 클래스의 상태는 value 변수만 보면 알수 있다.

    public synchronized long getValue(){
        return value;
    }

    public synchronized long increment(){
        if(value == Long.MAX_VALUE)
            throw new IllegalStateException("counter overflow");
        return ++value;
    }
}
~~~
- 객체 내부의 여러 변수가 갖고있는 현재 상태를 사용하고자 할 때 값이 계속해서 변하는 상황에서도 값을 안전하게 사용 할 수 있도록
  조절하는 방법을 동기화 정책이라고한다. 
- 동기화 정책에는 객체의 불변성, 스레드 한정, 락등을 어떻게 적절하게 활용해 스레드 안전성을 확보 할 수 있으며 어떤변수를 어떤락으로 막아야하는지등의 내용을 명시한다
- 동기화 정책을 항상 문서로 작성해야한다.

## 4.2 인스턴스 한정

## 4.3 스레드 안전성 위임

## 4.4 스레드 안전하게 구현된 클래스에 기능추가

## 4.5 동기화 정책 문서화 하기

## 스터디 후 느낀점


## 참고
책 자바 병렬 프로그래밍 4장 