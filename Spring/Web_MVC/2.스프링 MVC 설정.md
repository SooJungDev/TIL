## 스프링 MVC 설정

## 스프링 MVC 구성요소 직접 빈으로 등록하기
@Configuration을 사용한 자바 설정 파일에 직접 @Bean을 사용해서 등록하기

## @EnableWebMvc
애노테이션 기반 스프링 MVC 를 사용할때 편리한 웹 MVC 기본설정
~~~java
@Configuration
@EnableWebMvc
public class WebConfig{
}
~~~

## WebMvcConfigurer 인터페이스
@EnableWebMvc 가 제공하는 빈을 커스터마이징할수 있는 기능을 제공하는 인터페이스
~~~java
@Configuration
@EnableWebMvc
public class WebConfig implements WebMvcCofigurer{

 @Override
 public void configreViewResolvoers(ViewResolverRegistry regristry){
    registry.jsp("/WEB-INF/",".jsp");
  }
}
~~~

## 스프링 부트의 스프링 MVC 설정

스프링 부트의 "주관"이 적용된 자동설정이 동작한다.
- JSP 보다는 Thymeleaf 선호
- JSON 지원
- 정적 리소스 지원(+ 월컴페이지, 파비콘 등을 지원)

스프링 MVC 커스터마이징  
- application.properties
- @Configuration + Implements WebMvcConfigurer: 스프링 부트의 스프링 MVC 자동설정 + 추가설정 
- @Configuration + @EnableWebMvc+ Implements WebMvcConfigurer: 스프링 부트이 스프링 MVC 자동설정 사용하지 않음

## 스프링 부트에서 JSP 사용하기
- 가능하다면 JSP 는 피하는 것이 좋음
    - 내장형 서블릿 컨테이너와 함꼐 사용할 경우 몇가지 알려진 제약사항이 있음
- [Springboot 에서 지원하는 Template Engines](https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-spring-mvc-template-engines)

제약사항
- JAR 프로젝트로 만들 수 없음, WAR 프로젝트로 만들어야함
- JAVA - JAR로 실행 할 수는 있지만, "실행가능한 JAR파일"은 지원하지 않음
- 언더토우(JBoss에서 만든 서블릿 컨테이너)는 JSP를 지원하지 않음
- Whitelabel 에러 페이지를 error.jsp 로 오버라이딩 할 수 없음

참고
- [JSP Limitations](https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-jsp-limitations)
- [Springboot jsp sample 프로젝트](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-samples/spring-boot-sample-web-jsp) 

의존성 추가
~~~
<​dependency​>
  <groupId>javax.servlet</groupId>
  <artifactId>jstl</artifactId>
</​dependency​>
<​dependency​>
  <groupId>org.apache.tomcat.embed</groupId>
  <artifactId>tomcat-embed-jasper</artifactId>
  <scope>provided</scope>
</​dependency​>
 

~~~

태그 선언
~~~
<%@ ​taglib ​prefix​="​c​" ​uri​="h​ ttp://java.sun.com/jsp/jstl/core​"%>
~~~

application.properties
~~~
spring.mvc.view.prefix​=​/WEB-INF/jsp 
spring.mvc.view.suffix​=​.jsp
~~~

## WAR 파일 배포하기
java -jar를 사용해서 실행하기  
- SpringApplication.run 사용하기

서블릿 컨테이너에 배포하기   
- SpringBootServletInitializer (WebApplicationInitializer) 사용하기  

